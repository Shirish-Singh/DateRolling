<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <groupId>com.flexifin.liquibase</groupId>
  <artifactId>liquibase-test</artifactId>
  <version>0.0.1-SNAPSHOT</version>
  <packaging>jar</packaging>

 <build>
	<plugins>
		<plugin>
		    <groupId>org.liquibase</groupId>
		    <artifactId>liquibase-maven-plugin</artifactId>
		    <version>2.0.1</version>
		    <dependencies>
				 <dependency>
				 <groupId>mysql</groupId>
				 <artifactId>mysql-connector-java</artifactId>
				 <version>5.1.21</version>
				 </dependency>
	 		</dependencies>
		    <executions>
		        <execution>
		            <phase>process-resources</phase>
		            <configuration>
		                <propertyFile>target/classes/liquibase.properties</propertyFile>
		                <promptOnNonLocalDatabase>false</promptOnNonLocalDatabase>
		            </configuration>
		            <goals>
		                <goal>update</goal>
		            </goals>
		        </execution>
		    </executions>
		</plugin>
	</plugins>
 </build>
 <profiles>
        <profile>
            <id>accounting</id>
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <liquibase.url>jdbc:mysql://localhost:3306/accounting</liquibase.url>
                <liquibase.driver>com.mysql.jdbc.Driver</liquibase.driver>
                <liquibase.username>flexifin</liquibase.username>
                <liquibase.password>flexifin</liquibase.password>
                <liquibase.changeLogFile>src/main/db/accounting-db-changelog.xml</liquibase.changeLogFile>
            </properties>
        </profile>
        <profile>
            <id>masterdata</id>
            <properties>
                <liquibase.url>jdbc:mysql://localhost:3306/masterdata</liquibase.url>
                <liquibase.driver>com.mysql.jdbc.Driver</liquibase.driver>
                <liquibase.username>flexifin</liquibase.username>
                <liquibase.password>flexifin</liquibase.password>
                <liquibase.changeLogFile>src/main/db/masterdata-db-changelog.xml</liquibase.changeLogFile>
            </properties>
        </profile>
    </profiles>
</project>
